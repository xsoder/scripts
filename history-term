#!/usr/bin/env bash

cmds=$(tac "$HOME/.bash_history")

chosen=$(echo "$cmds" | dmenu -c -l 20 -p "Recent commands:")

if [ -n "$chosen" ]; then
    output=$(eval "$chosen" 2>/dev/null)
    echo -n "$output" | xclip -selection clipboard
    notify-send "Copied output of:" "$chosen"
fi
